# 前端端到端测试清单

**测试日期**: 2026-02-01  
**环境**: http://localhost:5173

---

## 🎯 测试目标

验证所有用户故事在浏览器中的完整流程。

---

## ✅ 测试清单

### Phase 1: 风格初始化 (US1)

#### 1.1 首次启动
- [ ] 打开 http://localhost:5173
- [ ] 检查是否显示"风格初始化"模态框
- [ ] 模态框应该覆盖整个屏幕
- [ ] 背景应该有模糊效果

#### 1.2 生成风格候选
- [ ] 在文本框输入: "现代科技风格，蓝色渐变背景"
- [ ] 点击"生成风格"按钮
- [ ] 显示加载状态 (Spinner)
- [ ] 2-3 秒后显示 2 张候选图片
- [ ] 图片排列整齐，尺寸合适

#### 1.3 选择风格
- [ ] 鼠标悬停在图片上，边框高亮
- [ ] 点击第一张图片
- [ ] 显示"正在保存..."提示
- [ ] 模态框关闭
- [ ] Toast 提示"风格已设置"

---

### Phase 2: 幻灯片管理 (US2)

#### 2.1 创建幻灯片
- [ ] 点击侧边栏的"+ 新建幻灯片"按钮
- [ ] 新幻灯片出现在列表中
- [ ] 自动选中新幻灯片（高亮背景）
- [ ] 右侧编辑器显示空文本框

#### 2.2 创建多张幻灯片
- [ ] 连续创建 3 张幻灯片
- [ ] 侧边栏显示 3 个幻灯片缩略图
- [ ] 每张幻灯片有独特的 ID

#### 2.3 切换幻灯片
- [ ] 点击侧边栏的第 1 张幻灯片
- [ ] 右侧编辑器更新为第 1 张内容
- [ ] 点击第 2 张，内容切换
- [ ] 当前选中幻灯片有明显的高亮

#### 2.4 删除幻灯片
- [ ] 点击幻灯片缩略图的"删除"按钮（垃圾桶图标）
- [ ] 显示确认对话框
- [ ] 点击"确认"
- [ ] 幻灯片从列表中移除
- [ ] 自动选中下一张幻灯片（或第一张）

---

### Phase 3: 幻灯片编辑 (US3)

#### 3.1 编辑文本
- [ ] 在右侧编辑器输入: "第一张幻灯片：项目介绍"
- [ ] 1 秒后显示"保存中..."
- [ ] 然后显示"已保存 ✓"
- [ ] 刷新页面，文本内容保持

#### 3.2 检测内容变化
- [ ] 编辑幻灯片文本: "项目介绍（已更新）"
- [ ] 保存后，右侧图片区域显示"重新生成图片"按钮
- [ ] 按钮应该是醒目的样式（蓝色/紫色）

#### 3.3 重新生成图片
- [ ] 点击"重新生成图片"按钮
- [ ] 显示加载状态（Spinner + "生成中..."）
- [ ] 2-3 秒后显示新图片
- [ ] "重新生成图片"按钮消失
- [ ] Toast 提示"图片已更新"

#### 3.4 图片显示
- [ ] 检查图片是否正确显示
- [ ] 图片应该适应容器大小
- [ ] 图片有圆角和阴影效果
- [ ] 如果没有图片，显示占位符

---

### Phase 4: 拖拽排序 (US2)

#### 4.1 拖拽操作
- [ ] 鼠标按住侧边栏的第 3 张幻灯片
- [ ] 拖动到第 1 个位置
- [ ] 看到拖拽预览效果
- [ ] 松开鼠标
- [ ] 顺序变为: 3, 1, 2

#### 4.2 拖拽反馈
- [ ] 拖拽时，被拖拽项有透明度变化
- [ ] 目标位置有插入指示器
- [ ] 动画流畅，无卡顿

#### 4.3 排序持久化
- [ ] 刷新页面
- [ ] 幻灯片顺序保持为: 3, 1, 2
- [ ] outline.yml 文件顺序正确

---

### Phase 5: 全屏播放 (US4) - **新增功能**

#### 5.1 进入全屏
- [ ] 点击侧边栏顶部的"播放演示"按钮（▶️ 图标）
- [ ] 立即进入全屏黑色背景
- [ ] 显示第一张幻灯片（图片 + 文本）
- [ ] 控制按钮可见：关闭(X)、播放/暂停、左右箭头

#### 5.2 自动播放
- [ ] 等待 5 秒
- [ ] 自动切换到第二张幻灯片
- [ ] 有淡入淡出过渡效果
- [ ] 再等 5 秒，切换到第三张
- [ ] 最后一张后循环到第一张

#### 5.3 手动导航
- [ ] 点击右箭头按钮 (→)
- [ ] 立即切换到下一张
- [ ] 点击左箭头按钮 (←)
- [ ] 立即切换到上一张
- [ ] 点击页面指示器圆点
- [ ] 跳转到对应幻灯片

#### 5.4 暂停/播放
- [ ] 点击暂停按钮 (⏸)
- [ ] 自动播放停止
- [ ] 按钮图标变为播放 (▶️)
- [ ] 点击播放按钮
- [ ] 自动播放恢复

#### 5.5 键盘导航
- [ ] 按 `→` 键，切换下一张
- [ ] 按 `←` 键，切换上一张
- [ ] 按 `Space` 键，暂停/播放切换
- [ ] 按 `ESC` 键，退出全屏

#### 5.6 页面指示器
- [ ] 底部显示圆点指示器
- [ ] 当前页面的圆点是长条形（激活状态）
- [ ] 其他圆点是小圆形
- [ ] 显示页码 (1/3)

#### 5.7 退出全屏
- [ ] 点击右上角关闭按钮 (X)
- [ ] 立即退出全屏
- [ ] 返回编辑界面
- [ ] 编辑器状态保持不变

#### 5.8 边缘情况
- [ ] 只有 1 张幻灯片时
  - [ ] 左右箭头按钮不显示或禁用
  - [ ] 不自动播放或立即循环
- [ ] 空幻灯片（无图片）
  - [ ] 显示占位符图标
  - [ ] 文本正常显示
- [ ] 空列表
  - [ ] "播放演示"按钮应该禁用或提示

---

### Phase 6: 错误处理 & 边缘情况

#### 6.1 网络错误
- [ ] 停止后端服务
- [ ] 尝试创建幻灯片
- [ ] 显示 Toast 错误提示
- [ ] 界面不崩溃

#### 6.2 加载状态
- [ ] 所有 API 调用都有加载指示器
- [ ] Spinner 动画流畅
- [ ] Loading 状态有明确文本提示

#### 6.3 空状态
- [ ] 删除所有幻灯片
- [ ] 侧边栏显示"暂无幻灯片"提示
- [ ] 右侧显示空状态占位符

#### 6.4 长文本
- [ ] 输入超长文本（500+ 字）
- [ ] 编辑器滚动正常
- [ ] 全屏播放时文本自动换行
- [ ] 不超出屏幕范围

---

## 📊 测试结果

### 测试环境
- **浏览器**: Chrome / Firefox / Safari
- **屏幕分辨率**: 1920x1080 / 1366x768
- **操作系统**: macOS / Windows / Linux

### 通过标准
- [ ] 所有功能正常工作
- [ ] UI/UX 流畅无卡顿
- [ ] 无 Console 错误
- [ ] 响应时间 < 500ms (本地 API)
- [ ] 动画流畅 (60fps)

### 已知问题
1. 
2. 
3. 

---

## 🚀 测试执行

### 准备工作
```bash
# 启动后端
cd Week7
./start-backend.sh

# 启动前端（新终端）
cd Week7/frontend
npm run dev
```

### 测试步骤
1. 按照上述清单逐项测试
2. 在复选框中标记完成项
3. 记录任何问题到"已知问题"
4. 截图关键功能（可选）

### 完成标准
- **必须**: 所有 Phase 1-5 核心功能通过
- **推荐**: Phase 6 边缘情况通过 80%+
- **可选**: 多浏览器兼容性测试

---

**测试执行人**: _____________  
**完成日期**: _____________  
**总体评分**: _____ / 100

---

## 📝 备注

- 此测试清单覆盖所有 User Stories (US1-US4)
- Phase 4 (Carousel) 为新增功能，需特别关注
- 后端 Stub 模式：图片为占位符，加载很快
- 真实 API 模式：图片生成需要 2-5 秒

---

**下一步**: 如果测试通过，标记 T028 为完成，项目进入 100% 完成状态！
